<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pineappple Task2</title>
    <link rel="stylesheet" href="css/style2.css">
</head>
<body>
    <header>
    <div class="desktop_base"> </div>
    <nav>
           <p class="union" > </p>
            <p class=pineapple> </p>
            <div class="links">
                <p class="about" > About</p>
                <p class="how-it-works" > How it works</p> 
                <p class="contact" > Contact</p> 
            </div>
        
            <div class="union2"></div>
    </nav>
</header>
    <div class="background_image"> </div>
    <div class="desktop_base1"> </div>
    <div class="union_cup", id="cup"></div>
       
        <h1 id="answer3"> Subscribe to newsletter</h1>
        <h2 id="answer4" > Subscribe to our newsletter and get 10% discount on pineapple glasses.</h2>
       
                <form id="subscribe" >
                    <p class=base></p>
                <div>
                <p class="input"> <input  name="email", class="text", placeholder="Type your email address here..."> </p>
                <button class="ic_arrow", type="submit", name="submit" >
                </div>
                

    <p class="line", id="line_change" ></p>

    <p class="checking", id="answer"> </p>
    
                <p><input class="checkmark", id="idCheckbox", name="checkboxname", type="checkbox"> </p>
                <p class="TOS_Text" >I agree to <strong class="strong"> <u> terms of service </u> </strong></p>
              
            </form>
            <p class="line1", id="line1" ></p>
    
    <footer  >
    <p  > <img id="icon" class= "facebook" src="images/Base.png"> <img id="ic_icon" class= "ic_facebook" > </p>
    <p > <img  id="icon1" class= "instagram", src="images/Base.png" > <img id="ic_icon1" class= "ic_instagram" src="images/ic_instagram.png"> </p>
    <p > <img id="icon2" class= "twitter", src="images/Base.png" > <img id="ic_icon2" class= "ic_twitter" src="images/ic_twitter.png"> </p>
    <p > <img  id="icon3" class= "youtube", src="images/Base.png" > <img  id="ic_icon3" class= "ic_youtube" src="images/ic_youtube.png"> </p>
    </footer>
    <script>
         document.getElementById("subscribe").addEventListener("submit", function(event){
        event.preventDefault();
        var correctEmail = event.target.elements["email"].value;
        var answer = document.getElementById("answer");
        var answer3 = document.getElementById("answer3");
        var answer4 = document.getElementById("answer4");
        
       var validateEmail = correctEmail.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
       history.replaceState(null, document.querySelector("title").innerText, window.location.pathname);
if (document.getElementById("idCheckbox").checked && validateEmail){
      
      answer3.innerHTML = ` Thanks for subscribing! `;
      answer4.innerHTML = `  You have successfully subscribed to our email listing. Check your email for the discount code.`;
      document.getElementById("cup").setAttribute('style','display:block');
      document.getElementById("subscribe").setAttribute("style", 'display:none');
      document.getElementById("line1").setAttribute("style", 'top:539px');
      document.getElementById("icon").setAttribute("style", 'top:590px');
      document.getElementById("icon1").setAttribute("style", 'top:590px');
      document.getElementById("icon2").setAttribute("style", 'top:590px');
      document.getElementById("icon3").setAttribute("style", 'top:590px');
      
      document.getElementById("ic_icon").setAttribute("style", 'top:605px');
      document.getElementById("ic_icon1").setAttribute("style", 'top:605px');
      document.getElementById("ic_icon2").setAttribute("style", 'top:605px');
      document.getElementById("ic_icon3").setAttribute("style", 'top:608px');
   }
   //else if(document.getElementById("idCheckbox").checked && validateEmail ) {
      // answer.innerHTML = ` <p> We are not accepting subscriptions from Colombia emails </p>`;
  // }
   else if(validateEmail){
  answer.innerHTML = ` <p> You must accept the terms and conditions </p>`;
  document.getElementById("line_change").setAttribute('style', 'background: #B80808');
   }
   else if (document.getElementById("idCheckbox").checked && correctEmail.length !==0 ) {
        answer.innerHTML = ` <p> Please provide a valid e-mail address </p>`;
           document.getElementById("line_change").setAttribute('style', 'background: #B80808');
   }
   else if(document.getElementById("idCheckbox").checked) {
       answer.innerHTML = ` <p> Email address is required </p>`;
       document.getElementById("line_change").setAttribute('style', 'background: #B80808');
   }
   else{
       answer.innerHTML = ` <p> Please provide email and accept terms </p>`;
       document.getElementById("line_change").setAttribute('style', 'background: #B80808');
   }
   });
    </script>

</body>
</html>